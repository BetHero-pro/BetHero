<!DOCTYPE html>
<html>
<head>
  <title>Todo List</title>
  <style>
    .completed {
      text-decoration: line-through;
    }
    .delete-button {
      color: red;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Todo List</h1>

  <button id="add-button">Add Todo</button>

  <ul id="todo-list">
  </ul>

  <script>
    // Get DOM elements
    const addButton = document.getElementById('add-button');
    const todoList = document.getElementById('todo-list');

    // Create an empty array to store todos
    let todos = [];

    // Function to save todos in localStorage
    function saveTodos() {
      localStorage.setItem('todos', JSON.stringify(todos));
    }

    // Function to render todos on the page
    function renderTodos() {
      todoList.innerHTML = '';

      todos.forEach((todo, index) => {
        const listItem = document.createElement('li');
        listItem.innerText = todo.text;

        if (todo.completed) {
          listItem.classList.add('completed');
        }

        listItem.addEventListener('click', () => {
          todo.completed = !todo.completed;
          renderTodos();
          saveTodos();
        });

        const deleteButton = document.createElement('span');
        deleteButton.innerText = 'X';
        deleteButton.classList.add('delete-button');
        deleteButton.addEventListener('click', (event) => {
          event.stopPropagation();
          deleteTodo(index);
        });

        listItem.appendChild(deleteButton);
        todoList.appendChild(listItem);
      });
    }

    // Function to handle adding a new todo
    function handleAddTodo() {
      const newTodo = window.prompt('Enter todo:');
      if (newTodo !== null && newTodo.trim() !== '') {
        todos.push({ text: newTodo, completed: false });
        renderTodos();
        saveTodos();
      }
    }

    // Function to delete a todo
    function deleteTodo(index) {
      todos.splice(index, 1);
      renderTodos();
      saveTodos();
    }

    // Add event listener
    addButton.addEventListener('click', handleAddTodo);

    // Load todos from localStorage on page load
    const storedTodos = JSON.parse(localStorage.getItem('todos'));
    if (storedTodos) {
      todos = storedTodos;
    }

    // Render initial todos
    renderTodos();
  </script>
</body>
</html>
